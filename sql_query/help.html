<head><title>Help</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<link href="/gssis/public/css/global.css" media="screen" rel="stylesheet" type="text/css">
<body>
<div>Now it's time to write your own query in two parts - the columns you want to select, and the conditions you want each returned result to satisfy. So for example, the following table show possible queries over the Guardian Datastore MPs' Expenses spreadsheet (key: <em>rvWgEEGK9xuUQBR1EFcxHWA</em>)</div>
<table border=1>
<tr><th><tt>select</tt> input</th><th><tt>where</tt> input</th><th>Comments</th></tr>
<tr><td>*</td><td>&nbsp;</td><td>Display everything</td></tr>
<tr><td>B,C,I</td><td>&nbsp;</td><td>Display columns B, C and I</td></tr>
<tr><td>B,C,I</td><td>I=23083</td><td>Display columns B, C and I for MPs claiming exactly 23083 in column 83</td></tr>
<tr><td>count(I)</td><td>I=23083</td><td>Count how many people claimed exactly 23083 in column I</td></tr>
<tr><td>B,C,I</td><td>I!=23083 order by I</td><td>display the people who did not claim exactly 23083 in column I and display them in increasing order of column I values</td></tr>
<tr><td>B,C,I</td><td>I!=23083 order by I desc</td><td>display the people who did not claim exactly 23083 in column I and display them in decreasing order of column I values</td></tr>
<tr><td>B,C,D,E</td><td>(C contains 'Joan' or C matches 'John')</td><td>Select by name (case sensitive); 'matches' must match exactly, 'contains' is a free text search</td></tr>
<tr><td>*</td><td>F<100000</td><td>full details of everyone who claimed less than 100000 in column F</td></tr>
<tr><td>sum(I)</td><td>&nbsp;</td><td>Total claimed within column I</td></tr>
<tr><td>count(I)</td><td>&nbsp;</td><td>number of rows where there's a value in column I</td></tr>
<tr><td>count(I)</td><td>where I>=0</td><td>make sure we only count 'valid' rows.</td></tr>
<tr><td>sum(I)/count(I)</td><td>&nbsp;</td><td>Calculate the average amount claimed in column I</td></tr>
<tr><td>D,sum(I)</td><td>I>=0 group by D</td><td>Find out how much has been claimed by each party named in column D</td></tr>
<tr><td>D,sum(I)/count(I)</td><td>I>=0 group by D</td><td>for the total claimed by each party (column D), how much on average does each member of that party claim</td></tr>
<tr><th colspan="3">Estudiantes</th></tr>
<tr><td>B,D,E,H,K</td><td>(G contains 'Fenomeno')</td><td><a href="http://goo.gl/1oE1x">Display Ph.D students of "Fenomenología" Group</a>: Estudiantes, Fecha de Ingreso, Fecha de Salida, Asesor, Fecha de Sustentación</td></tr>
</table>
<br/>
<p>Try out some visualisation queries <a href="search.html">here...</a></p>
<footer>Based on code at <a href="http://ouseful.open.ac.uk/datastore/gspreadsheetdb2.php">http://ouseful.open.ac.uk/datastore/gspreadsheetdb2.php</a></footer>
</body>
